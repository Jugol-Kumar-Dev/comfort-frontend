import{z as B,u as U,l as F,a as R,m as j,r as m,q,o as i,c as d,d as e,F as S,s as A,e as r,D as z,w as L,v,B as M,f,j as $,t as l,y as Q}from"./index-PvhvoPf6.js";const O={class:"checkout"},Y={class:"container-fluid my-5"},Z={class:"row"},E={class:"col-lg-7 col-12"},G={class:"checkout__shipping-add"},H=e("h3",null,"Shipping Address",-1),J={class:"d-flex flex-wrap created-address"},K=["id","onInput","value"],W=["for"],X={class:"mb-2"},ee={class:"mb-2"},te={class:"col-md-6 col-12 pe-2"},se=e("div",{class:"d-flex flex-column align-items-center"},[e("i",{class:"bi bi-plus"}),$(" Add New Address ")],-1),oe=[se],le={key:0,class:"checkout__shipping-add-wrapper"},ne={class:"checkout__shipping-add-wrapper-new"},ae=e("h3",null,"New Address",-1),ie={class:"form-floating"},de=e("label",{for:"floatingInput"},"Full Name",-1),re={class:"form-floating"},ce=e("label",{for:"floatingInput"},"Address",-1),ue={class:"d-flex align-items-center gap-3"},pe=Q('<select class="form-select" aria-label="Default select example"><option selected disabled>Add New City</option><option value="1">Dhaka</option><option value="2">Rajshahi</option><option value="3">Pabna</option></select>',1),_e={class:"form-floating"},he=e("label",{for:"floatingInput"},"State",-1),ve={class:"form-floating"},fe=e("label",{for:"floatingInput"},"ZIP Code",-1),me={class:"form-floating"},ge=e("label",{for:"floatingInput"},"Phone Number",-1),ye={class:"d-flex align-items-center justify-content-end gap-3"},be=e("button",{class:"primary-button",type:"submit"},"Save",-1),ke={class:"col-lg-5 col-12"},Ie={class:"row flex-column gap-3"},we={class:"col-12"},Ce={class:"checkout__product"},Se={class:"checkout__product-items"},Ae={class:"d-flex align-items-center"},$e=["src"],De={class:"pe-2"},xe={class:"d-flex align-items-center justify-content-between w-50 ps-5"},Pe={class:"pt-3 text-end fw-bold"},Ne={class:"text-info"},Ve={class:"col-12"},Te={class:"checkout__payment"},Be=e("p",{class:"text-dark fw-semibold fs-3"},"Order Summary",-1),Ue=e("span",null,"Items Total",-1),Fe=e("span",null,"Delivery Fee",-1),Re={class:"border-top border-2"},je=e("strong",null,"Total Payment",-1),Qe={__name:"Checkout",setup(qe){const c=B(),D=U(),{loading:ze,error:Le,sendRequest:x}=F(),P=R(),N=j(),u=m(!1),n=m({setDeliveryAddress:!1,setDesiveryCharge:0,addressId:null}),y=m(null);m(null);const V=o=>{var s;n.value.setDeliveryAddress=!0,n.value.setDesiveryCharge=(s=o.order_area)==null?void 0:s.delivery_charge,n.value.addressId=o.id},T=()=>{n.value.setDeliveryAddress?P.push({name:"payment",query:{addressId:n.value.addressId}}):$toast.error("Please Select Your Delivery Address...")};return q(async()=>{var p;const o=await D.getToken(),s=await x({method:"get",url:"/api/address",headers:{Authorization:`Bearer ${o}`}});y.value=(p=s==null?void 0:s.data)==null?void 0:p.addresses,N.query.invalidAddressId&&$toast.error("Please Select Your Shipping Details Before Payment.")}),(o,s)=>{var p,b;return i(),d("section",O,[e("div",Y,[e("div",Z,[e("div",E,[e("div",G,[H,e("div",J,[(i(!0),d(S,null,A(y.value,(t,a)=>{var _,h;return i(),d("div",{class:"col-md-6 col-12 pe-2",key:`add-${a}`},[e("input",{type:"radio",name:"address",id:`add-${a}`,onInput:g=>V(t),value:a,class:"address-radio address-radio--one"},null,40,K),e("label",{for:`add-${a}`,role:"button"},[e("h3",null,l(t==null?void 0:t.title),1),e("div",null,[e("p",X,l(t==null?void 0:t.address),1),e("p",null,l(t==null?void 0:t.email),1),e("p",ee,l(t==null?void 0:t.phone),1),e("p",null,"Area: "+l((_=t==null?void 0:t.order_area)==null?void 0:_.area_name)+" & Delivery Charge: "+l((h=t==null?void 0:t.order_area)==null?void 0:h.delivery_charge)+" $",1)])],8,W)])}),128)),e("div",te,[r(e("button",{class:"add-new-add",onClick:s[0]||(s[0]=t=>u.value=!0)},oe,512),[[z,!u.value]])])]),u.value?(i(),d("div",le,[e("div",ne,[ae,e("form",{onSubmit:s[7]||(s[7]=L(()=>{},["prevent"]))},[e("div",ie,[r(e("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"Full Name","onUpdate:modelValue":s[1]||(s[1]=t=>o.full_name=t)},null,512),[[v,o.full_name]]),de]),e("div",re,[r(e("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"Address","onUpdate:modelValue":s[2]||(s[2]=t=>o.address=t)},null,512),[[v,o.address]]),ce]),e("div",ue,[pe,e("div",_e,[r(e("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"State","onUpdate:modelValue":s[3]||(s[3]=t=>o.state=t)},null,512),[[v,o.state]]),he]),e("div",ve,[r(e("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"ZIP Code","onUpdate:modelValue":s[4]||(s[4]=t=>o.zip_code=t)},null,512),[[v,o.zip_code]]),fe])]),e("div",null,[e("div",me,[r(e("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"Phone Number","onUpdate:modelValue":s[5]||(s[5]=t=>o.phone_number=t)},null,512),[[v,o.phone_number]]),ge])]),e("div",ye,[be,e("button",{class:"secondary-button",onClick:s[6]||(s[6]=t=>u.value=!u.value)},"Close")])],32)])])):M("",!0)])]),e("div",ke,[e("div",Ie,[e("div",we,[e("div",Ce,[e("div",Se,[(i(!0),d(S,null,A(f(c).getCartItems,(t,a)=>{var _,h,g,k,I,w,C;return i(),d("div",{class:"checkout__product-items__item",key:`cart-item-${a}`},[e("div",Ae,[e("img",{src:`${o.$API_URL}/storage/uploads/${((_=t==null?void 0:t.selectSku)==null?void 0:_.image)??((g=(h=t==null?void 0:t.data)==null?void 0:h.images[0])==null?void 0:g.image)}`,style:{width:"70px",height:"auto"},alt:"Chair"},null,8,$e),e("div",De,[e("p",null,l((k=t==null?void 0:t.data)==null?void 0:k.title),1)])]),e("div",xe,[e("div",null,[e("p",null,"Qty: "+l((I=t.selectSku)==null?void 0:I.selectQty),1)]),e("div",null,"$ "+l(((w=t.selectSku)==null?void 0:w.price)*((C=t.selectSku)==null?void 0:C.selectQty)),1)])])}),128))]),e("div",null,[e("p",Pe,[$(l(f(c).getCartLength)+" Items. Subtotal: ",1),e("span",Ne,"$ "+l(f(c).getCartTotalPrice),1)])])])]),e("div",Ve,[e("div",Te,[Be,e("ul",null,[e("li",null,[Ue,e("span",null,l(f(c).getCartTotalPrice)+" $",1)]),e("li",null,[Fe,e("span",null,l((p=n.value)==null?void 0:p.setDesiveryCharge)+" $",1)]),e("li",Re,[je,e("strong",null,l(f(c).getCartTotalPrice+((b=n.value)==null?void 0:b.setDesiveryCharge))+" $",1)])]),e("button",{onClick:T,class:"primary-button text-center"},"Place Order")])])])])])])])}}};export{Qe as default};
