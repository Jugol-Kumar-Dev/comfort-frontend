import{u as b,r as f,l as v,b as d,o as r,y,i as u,d as e,h as m,w,e as l,v as n,c as R,m as P,a as k}from"./index-VXieFc6Y.js";import{_ as D}from"./CustomerUser-ivW4r-wn.js";const U={class:"container"},V={class:"order-head"},S=e("i",{class:"bi bi-arrow-left"},null,-1),B=e("h3",null,"Edit Profile",-1),N={class:"profile-info"},C={class:"mb-2"},E=e("label",{for:"name"},"Name",-1),g=["readonly","disabled"],A={class:"mb-2"},L=e("label",{for:"email"},"Email",-1),M=["readonly","disabled"],T={class:"mb-2"},$=e("label",{for:"phone"},"Phone",-1),q=["readonly","disabled"],O={key:0,type:"submit",class:"primary-button mt-4"},I={__name:"Profile",setup(j){const t=b(),s=f({id:t.user.id,name:t.user.full_name,email:t.user.email,phone:t.user.phone}),{sendRequest:c,loading:z,error:F}=v(),p=async()=>{const o=await c({url:"/api/customer/profile-update",method:"POST",data:s.value});o!=null&&o.data&&($toast.success("Profile Updated..."),await t.logout(),await k().push({name:"home"}))};return(o,a)=>{const _=d("RouterLink"),h=d("Section");return r(),y(h,{class:"customer-section"},{default:u(()=>[e("div",U,[m(D),e("div",V,[m(_,{to:"/dashboard"},{default:u(()=>[S]),_:1}),B]),e("div",N,[e("form",{onSubmit:w(p,["prevent"])},[e("div",C,[E,l(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>s.value.name=i),readonly:o.isReadonly,disabled:o.isDisabled},null,8,g),[[n,s.value.name]])]),e("div",A,[L,l(e("input",{type:"email","onUpdate:modelValue":a[1]||(a[1]=i=>s.value.email=i),readonly:o.isReadonly,disabled:o.isDisabled},null,8,M),[[n,s.value.email]])]),e("div",T,[$,l(e("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=i=>s.value.phone=i),readonly:o.isReadonly,disabled:o.isDisabled},null,8,q),[[n,s.value.phone]])]),!o.isDisabled&&!o.isReadonly?(r(),R("button",O,"Update Profile")):P("",!0)],32)])])]),_:1})}}};export{I as default};
