import{q as U,a as A,l as E,r as R,s as O,b as W,o as t,c as a,d as s,w as $,e as S,v as L,f as e,t as B,m as D,j as M,h as z,i as G}from"./index-XtAJ1EXg.js";const H={class:"container-fluid"},I={class:"d-flex align-items-center justify-content-center"},J={class:"form mt-8"},K=s("h3",null,"Forgot Password",-1),Q={class:"form__content"},X=s("label",{for:"email",class:"form-label"},"Change Password",-1),Y=["disabled"],Z=["textContent"],ss={class:"mb-3"},es=["disabled"],os=["textContent"],ts={class:"d-grid mb-2"},as=["disabled"],ns=s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),rs=[ns],is={key:1,type:"submit",class:"btn primary-button"},ds={class:"mt-2"},us={__name:"NewPassword",setup(ls){const u=U(),m=A(),{sendRequest:T,loading:n,error:r}=E(),d=R(null),l=R(null),j=async()=>{var o;(await T({url:"/api/save-new-password",method:"POST",data:{email:(o=u.query)==null?void 0:o.email,password:d.value,confirm_password:l.value}})).data&&($toast.info("New Password Setup Successfully Done..."),await m.push({name:"login"}))};return O(()=>{var i;(i=u.query)!=null&&i.email||m.push({name:"home"})}),(i,o)=>{var p,_,f,w,h,v,b,y,g,x,C,k,N,P,q,V;const F=W("RouterLink");return t(),a("section",null,[s("div",H,[s("div",I,[s("div",J,[K,s("div",Q,[s("form",{onSubmit:$(j,["prevent"])},[s("div",null,[X,S(s("input",{type:"password","onUpdate:modelValue":o[0]||(o[0]=c=>d.value=c),disabled:e(n),id:"email",class:"form-control",name:"email",placeholder:"Password...",required:""},null,8,Y),[[L,d.value]]),(w=(f=(_=(p=e(r))==null?void 0:p.response)==null?void 0:_.data)==null?void 0:f.errors)!=null&&w.password?(t(),a("div",{key:0,class:"text-danger",textContent:B((y=(b=(v=(h=e(r))==null?void 0:h.response)==null?void 0:v.data)==null?void 0:b.errors)==null?void 0:y.password[0])},null,8,Z)):D("",!0)]),s("div",ss,[S(s("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=c=>l.value=c),disabled:e(n),id:"email",class:"form-control",name:"email",placeholder:"Confirmation Password",required:""},null,8,es),[[L,l.value]]),(k=(C=(x=(g=e(r))==null?void 0:g.response)==null?void 0:x.data)==null?void 0:C.errors)!=null&&k.confirmation_password?(t(),a("div",{key:0,class:"text-danger",textContent:B((V=(q=(P=(N=e(r))==null?void 0:N.response)==null?void 0:P.data)==null?void 0:q.errors)==null?void 0:V.confirmation_password[0])},null,8,os)):D("",!0)]),s("div",null,[s("div",ts,[e(n)?(t(),a("button",{key:0,type:"submit",class:"primary-button mt-3",disabled:e(n)},rs,8,as)):(t(),a("button",is,"Forgot Now"))]),s("span",ds,[M("Want to try for login? "),z(F,{to:"login",class:"ms-1 text-primary"},{default:G(()=>[M("Login")]),_:1})])])],32)])])])])])}}};export{us as default};
