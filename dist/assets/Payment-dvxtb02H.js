import{_ as I,z as P,m as M,a as T,u as A,l as $,r as k,q,o as r,c as d,d as e,e as C,E as S,t as i,f as n,p as D,k as B}from"./index-PvhvoPf6.js";const a=l=>(D("data-v-ae17a609"),l=l(),B(),l),O={class:"customer-section"},z={class:"container"},R=a(()=>e("h3",{class:"text-capitalize fw-semibold fs-3"},"Select Your Payment Method",-1)),j={class:"method row flex-wrap mt-5"},V={class:"col-lg-6"},E={class:"row flex-wrap"},U={class:"col-6"},Y=a(()=>e("label",{for:"cash_on_delivery",class:"method-item",role:"button"},[e("i",{class:"bi bi-cash-coin"}),e("p",null,"Cash On Delivery")],-1)),L={class:"col-6"},N=a(()=>e("label",{for:"credit_card",class:"method-item",role:"button"},[e("i",{class:"bi bi-credit-card"}),e("p",null,"Credit/Debit Card")],-1)),Q={class:"col-lg-6 col-md-6 col-12"},F={class:"method-item align-items-start"},G=a(()=>e("h3",{class:"text-start fw-semibold"},"Order Summary",-1)),H={class:"w-100 mb-4"},J={class:"d-flex align-items-center justify-content-between mb-3"},K={class:"fs-5"},W={class:"d-flex align-items-center justify-content-between mb-3"},X=a(()=>e("p",{class:"fs-5"},"Incluted Delivery Charge ",-1)),Z={key:0},ee={key:1},te={class:"d-flex align-items-center justify-content-between"},se=a(()=>e("p",{class:"fs-3"},"Total Amount",-1)),oe={key:0},ae={key:1,class:"fs-3 text-info"},re={__name:"Payment",setup(l){const s=P(),u=M(),m=T(),p=A(),{loading:y,sendRequest:v}=$(),_=k(null),o=k({addressId:u.query.addressId,orders:s.getCartItems,paymentMethod:null,orderTotal:s.getCartTotalPrice}),x=async()=>{const c=await p.getToken();if(!o.value.paymentMethod)$toast.error("Please Select Your Payment Method...");else return await v({url:"/api/save-order",method:"POST",data:o.value,headers:{Authorization:`Bearer ${c}`}}),s.clearCart(),m.push({name:"ordercomplate"})};return q(async()=>{const c=await p.getToken();if(u.query.addressId){const t=await v({method:"get",url:`/api/address/${u.query.addressId}`,headers:{Authorization:`Bearer ${c}`}});_.value=t==null?void 0:t.data}else m.push({name:"checkout",query:{invalidAddressId:!0}})}),(c,t)=>{var f,b,g,w;return r(),d("section",O,[e("div",z,[R,e("div",j,[e("div",V,[e("div",E,[e("div",U,[C(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=h=>o.value.paymentMethod=h),name:"payment",id:"cash_on_delivery",value:"cod",class:"method-radio"},null,512),[[S,o.value.paymentMethod]]),Y]),e("div",L,[C(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=h=>o.value.paymentMethod=h),name:"payment",id:"credit_card",value:"card",class:"method-radio"},null,512),[[S,o.value.paymentMethod]]),N])])]),e("div",Q,[e("div",F,[G,e("ul",H,[e("li",J,[e("p",K,"Subtotal ("+i(n(s).getCartLength)+" Items Total Of Qty And Prices)",1),e("p",null,"$ "+i(n(s).getCartTotalPrice),1)]),e("li",W,[X,n(y)?(r(),d("p",Z,"...")):(r(),d("p",ee,i((b=(f=_.value)==null?void 0:f.order_area)==null?void 0:b.delivery_charge)+" $",1))]),e("li",te,[se,n(y)?(r(),d("p",oe,"...")):(r(),d("p",ae,"$ "+i(n(s).getCartTotalPrice+((w=(g=_.value)==null?void 0:g.order_area)==null?void 0:w.delivery_charge)),1))])]),e("button",{onClick:x,class:"primary-button"},"Confirm Order")])])])])])}}},ne=I(re,[["__scopeId","data-v-ae17a609"]]);export{ne as default};
